<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>StudyBuddy (Dummy Quiz Demo)</title>
  <style>
    :root{
      --bg:#0b1020;
      --panel:#111a33;
      --card:#141f3d;
      --border:rgba(255,255,255,.10);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.55);
      --accent:#7c5cff;
      --accent2:#38bdf8;
      --good:#22c55e;
      --bad:#ef4444;
      --warn:#f59e0b;
      --shadow:0 18px 60px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:14px;
      --max:1050px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1100px 600px at 20% 0%, rgba(124,92,255,.18), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(56,189,248,.14), transparent 55%),
        var(--bg);
    }
    
.topbar .wrap{
  display:grid;
  grid-template-columns: 1fr auto 1fr; /* left | center | right */
  align-items:center;
  gap:14px;
}


.top-left{justify-self:start; display:flex; align-items:center; gap:14px;}
.top-center{justify-self:center;}
.top-right{justify-self:end;}

/* keep nav from growing into a big oval */
.nav{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  padding:6px;
  width: fit-content;            /* key */
  max-width: 520px;              /* optional: keeps it tidy */
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  border-radius:999px;
  justify-content:center;        /* centers buttons inside */
}
    .nav button{
      border:0; cursor:pointer;
      color:var(--muted);
      padding:9px 12px;
      border-radius:999px;
      background:transparent;
      font-weight:700;
      transition:.2s ease;
    }
    .nav button.active{
      color:var(--text);
      background:rgba(124,92,255,.20);
      box-shadow: inset 0 0 0 1px rgba(124,92,255,.35);
    }
    .nav button:hover{color:var(--text); background:rgba(255,255,255,.06)}
    .spacer{flex:1}
    /* Right side container */
.top-right{
  justify-self:end;
  display:flex;
  align-items:center;   /* ‚≠ê vertical center */
  height:100%;          /* ‚≠ê take full topbar height */
}

/* Make chip perfectly centered inside */
.chip{
  display:flex;
  align-items:center;
  justify-content:center;
}
    .grid{display:grid; gap:16px}
    @media(min-width: 900px){
      .cols-2{grid-template-columns: 1.2fr .8fr}
      .cols-3{grid-template-columns: 1.2fr .9fr .9fr}
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }
    h1{margin:0 0 8px; font-size:28px}
    h2{margin:0 0 8px; font-size:18px}
    h3{margin:0 0 8px; font-size:16px}
    p{margin:0 0 10px; color:var(--muted); line-height:1.45}
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{
      border:0; cursor:pointer;
      padding:12px 14px;
      border-radius:14px;
      background:rgba(255,255,255,.06);
      color:var(--text);
      font-weight:800;
      transition:.2s ease;
      display:inline-flex; align-items:center; gap:10px;
    }
    .btn:hover{transform: translateY(-1px); background:rgba(255,255,255,.09)}
    .btn.primary{
      background: linear-gradient(90deg, rgba(124,92,255,.95), rgba(56,189,248,.85));
      box-shadow: 0 14px 40px rgba(124,92,255,.22);
    }
    .btn.ghost{background:transparent; box-shadow: inset 0 0 0 1px var(--border)}
    .btn:disabled{opacity:.55; cursor:not-allowed; transform:none}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      font-size:13px;
      font-weight:700;
    }
    .pill.good{background:rgba(34,197,94,.12); border-color:rgba(34,197,94,.35); color:rgba(235,255,242,.9)}
    .pill.bad{background:rgba(239,68,68,.12); border-color:rgba(239,68,68,.35); color:rgba(255,235,235,.92)}
    .pill.warn{background:rgba(245,158,11,.12); border-color:rgba(245,158,11,.35); color:rgba(255,245,232,.92)}
    .divider{height:1px; background:var(--border); margin:12px 0}
    .progress{
      width:100%; height:10px; border-radius:999px;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--border);
      overflow:hidden;
    }
    .progress > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(124,92,255,.95), rgba(56,189,248,.85));
      transition: width .25s ease;
    }
    .opt{
      display:flex; gap:12px; align-items:flex-start;
      padding:12px;
      border-radius: var(--radius2);
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      cursor:pointer;
      transition:.15s ease;
      user-select:none;
    }
    .opt:hover{background:rgba(255,255,255,.05)}
    .opt input{margin-top:3px}
    .opt.selected{box-shadow: inset 0 0 0 1px rgba(124,92,255,.45)}
    .opt.correct{border-color:rgba(34,197,94,.35); background:rgba(34,197,94,.10)}
    .opt.wrong{border-color:rgba(239,68,68,.35); background:rgba(239,68,68,.10)}
    .list{display:flex; flex-direction:column; gap:10px}
    .item{
      padding:12px; border-radius: var(--radius2);
      background:rgba(255,255,255,.03);
      border:1px solid var(--border);
      display:flex; gap:12px; align-items:flex-start; justify-content:space-between;
    }
    .hidden{display:none !important}
    .kpi{padding:12px; border:1px solid var(--border); border-radius:14px; background:rgba(255,255,255,.03)}
    .kpi .big{font-size:22px; font-weight:900}
    .kpi .lbl{font-size:13px; color:var(--muted)}
    .tag{font-size:12px; color:var(--muted); border:1px solid var(--border); padding:4px 8px; border-radius:999px}
    .small{font-size:13px; color:var(--muted)}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="wrap">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <div>StudyBuddy</div>
          <div style="font-size:12px; color:var(--muted2); font-weight:700;">Dummy Quiz UI</div>
        </div>
      </div>

      <div class="nav">
        <button class="active" data-page="home">Home</button>
        <button data-page="setup">Quiz Setup</button>
        <button data-page="quiz">Take Quiz</button>
        <button data-page="results">Results</button>
        <button data-page="weak">Weak Topics</button>
      </div>

      <div class="spacer"></div>
      <div class="chip">üë§ <strong>Azka</strong> <span style="opacity:.7"></span></div>
    </div>
  </div>

  <main class="wrap">
    <!-- test -->
    <!-- HOME -->
    <section id="home">
      <div class="grid cols-3">
        <div class="card">
          <h1>Quick quizzes. Clear feedback.</h1>
          <p>
            This is a <strong>dummy</strong> frontend so you can preview what StudyBuddy looks like.
            It includes a small sample quiz and a results + weak topics view.
          </p>
          <div class="row">
            <button class="btn primary" id="btnGoSetup">Start a new quiz</button>
            <button class="btn ghost" id="btnGoQuiz">Jump to quiz</button>
          </div>
          <div class="divider"></div>
          <div class="row">
            <span class="pill"> Auto feedback</span>
            <span class="pill"> Topic breakdown</span>
            <span class="pill"> Review mistakes</span>
          </div>
        </div>

        <div class="card">
          <p style="margin:0 0 6px; color:var(--muted); font-weight:800;">Today</p>
          <div class="grid" style="grid-template-columns:repeat(2,1fr); gap:12px;">
            <div class="kpi"><div class="big">1</div><div class="lbl">Quiz taken</div></div>
            <div class="kpi"><div class="big" id="homeAvg">‚Äî</div><div class="lbl">Last score</div></div>
            <div class="kpi"><div class="big">3</div><div class="lbl">Questions</div></div>
            <div class="kpi"><div class="big">~2m</div><div class="lbl">Estimated time</div></div>
          </div>
          <div class="divider"></div>
          <p class="small">Tip: after results, go to ‚ÄúWeak Topics‚Äù to see what to study next.</p>
        </div>
        <div class="card" style="margin-top:16px;">
  <h2>Suggested next steps</h2>
  <p class="small">Pick a topic to practice, or start a new quiz.</p>
  <div class="row">
    <button class="btn primary">Practice DFA/NFA</button>
    <button class="btn">Practice Regex</button>
    <button class="btn">Practice Proofs</button>
  </div>
</div>

        <div class="card">
          <p style="margin:0 0 6px; color:var(--muted); font-weight:800;">Preview topics</p>
          <div class="list">
            <div class="item">
              <div>
                <div style="font-weight:900">DFA/NFA basics</div>
                <div class="small">Definitions + transitions</div>
              </div>
              <span class="pill">Core</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Regex ‚Üî NFA</div>
                <div class="small">Build automata from patterns</div>
              </div>
              <span class="pill">Practice</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Regular vs non-regular</div>
                <div class="small">Pumping lemma intuition</div>
              </div>
              <span class="pill">Harder</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SETUP -->
    <section id="setup" class="hidden">
      <div class="grid cols-2">
        <div class="card">
          <h2>Quiz setup (dummy)</h2>
          <p>These settings don't change the questions ‚Äî they just update the UI.</p>

          <div class="divider"></div>

          <div class="row" style="justify-content:space-between;">
            <div>
              <div class="small">Topic</div>
              <div class="row" style="margin-top:6px;">
                <span class="tag" id="setTopic">Automata</span>
                <span class="tag" id="setDiff">Medium</span>
                <span class="tag" id="setCount">3 questions</span>
              </div>
            </div>
            <button class="btn primary" id="btnStart">Start quiz</button>
          </div>

          <div class="divider"></div>

          <p class="small">
            In the real app, your chatbot would provide content, you would generate questions from it,
            and you would tag each question with a topic so we can calculate weak areas.
          </p>
        </div>

        <div class="card">
          <h2>What you‚Äôll see</h2>
          <div class="list">
            <div class="item">
              <div>
                <div style="font-weight:900">Quiz page</div>
                <div class="small">Progress bar, question card, answer options</div>
              </div>
              <span class="pill">UI</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Results page</div>
                <div class="small">Score, per-question review, explanations</div>
              </div>
              <span class="pill good">Feedback</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Weak Topics</div>
                <div class="small">Topics you missed + what to study next</div>
              </div>
              <span class="pill warn">Action</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="hidden">
      <div class="grid cols-2">
        <div class="card">
          <div class="row" style="justify-content:space-between;">
            <div>
              <h2 id="quizTitle">Dummy Automata Quiz</h2>
              <p class="small" id="quizMeta">3 questions ‚Ä¢ Medium</p>
            </div>
            <span class="pill" id="topicPill">Topic: Mixed</span>
          </div>

          <div class="divider"></div>

          <div class="row" style="justify-content:space-between;">
            <span class="pill" id="qCounter">Question 1 / 3</span>
            <span class="pill" id="qTopic">DFA</span>
          </div>

          <div style="margin:10px 0 12px;">
            <div class="progress"><div id="bar"></div></div>
          </div>

          <h3 id="qText">Loading‚Ä¶</h3>
          <p id="qHint" class="small">Pick one answer.</p>

          <div id="options" class="list" style="margin-top:10px;"></div>

          <div class="divider"></div>

          <div class="row" style="justify-content:space-between;">
            <button class="btn ghost" id="btnPrev">Back</button>
            <div class="row">
              <button class="btn" id="btnSkip">Skip</button>
              <button class="btn primary" id="btnNext" disabled>Next</button>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>Notes (dummy)</h2>
          <p class="small">
            In your real version, this side panel could show:
            <strong>hint</strong>, <strong>definition</strong>, or a short excerpt from the chatbot.
          </p>
          <div class="divider"></div>
          <div class="list" id="noteBox">
            <div class="item">
              <div>
                <div style="font-weight:900">How scoring works</div>
                <div class="small">We store your selected option per question.</div>
              </div>
              <span class="pill">Simple</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Weak topics</div>
                <div class="small">We count misses per topic and recommend practice.</div>
              </div>
              <span class="pill warn">Useful</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="results" class="hidden">
      <div class="grid cols-2">
        <div class="card">
          <h2>Your results</h2>
          <p class="small">Dummy scoring based on your selections.</p>

          <div class="divider"></div>

          <div class="grid" style="grid-template-columns:repeat(3,1fr); gap:12px;">
            <div class="kpi"><div class="big" id="scorePct">‚Äî</div><div class="lbl">Score</div></div>
            <div class="kpi"><div class="big" id="scoreRaw">‚Äî</div><div class="lbl">Correct</div></div>
            <div class="kpi"><div class="big" id="missedCount">‚Äî</div><div class="lbl">Missed</div></div>
          </div>

          <div class="divider"></div>

          <h3>Question review</h3>
          <div class="list" id="reviewList"></div>

          <div class="divider"></div>
          <div class="row">
            <button class="btn primary" id="goWeakTopics">See weak topics</button>
            <button class="btn ghost" id="retryQuiz">Retry quiz</button>
          </div>
        </div>

        <div class="card">
          <h2>What this page shows</h2>
          <div class="list">
            <div class="item">
              <div>
                <div style="font-weight:900">Clear score summary</div>
                <div class="small">So the user immediately understands performance.</div>
              </div>
              <span class="pill good">Good UX</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Explanations</div>
                <div class="small">Each wrong answer includes a quick ‚Äúwhy‚Äù.</div>
              </div>
              <span class="pill warn">Important</span>
            </div>
            <div class="item">
              <div>
                <div style="font-weight:900">Topic tags</div>
                <div class="small">Used to compute weak areas (next screen).</div>
              </div>
              <span class="pill">Structure</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- WEAK TOPICS -->
    <section id="weak" class="hidden">
      <div class="grid cols-2">
        <div class="card">
          <h2>Weak topics (dummy)</h2>
          <p class="small">Based on what you missed. This is what you would show to help them improve.</p>

          <div class="divider"></div>

          <div class="list" id="weakList"></div>

          <div class="divider"></div>

          <div class="row">
            <button class="btn primary" id="practiceAgain">Practice again</button>
            <button class="btn ghost" id="backToResults">Back to results</button>
          </div>
        </div>

        <div class="card">
          <h2>Recommended next steps</h2>
          <div class="list" id="recommendations"></div>
        </div>
      </div>
    </section>

  </main>

  <script>
    // ---------- Dummy quiz data ----------
    const QUESTIONS = [
      {
        id: "q1",
        topic: "DFA",
        text: "In a DFA, for each state and input symbol, how many transitions are allowed?",
        hint: "D = deterministic",
        options: ["0", "1", "2", "Any number"],
        correct: 1,
        explanation: "A DFA must have exactly ONE transition per symbol from each state."
      },
      {
        id: "q2",
        topic: "NFA",
        text: "What makes an NFA different from a DFA?",
        hint: "Think: branching paths",
        options: [
          "It can have multiple transitions for the same symbol",
          "It has no accept states",
          "It cannot read input",
          "It must accept every path"
        ],
        correct: 0,
        explanation: "An NFA can have multiple possible next states (and sometimes Œµ-moves)."
      },
      {
        id: "q3",
        topic: "Regularity",
        text: "A language is 'regular' if it can be recognized by:",
        hint: "Three equivalent forms",
        options: [
          "A Turing machine only",
          "A DFA/NFA (finite automaton)",
          "A pushdown automaton",
          "A context-free grammar only"
        ],
        correct: 1,
        explanation: "Regular languages are exactly those recognized by finite automata (DFA/NFA) and regex."
      }
    ];

    // ---------- App state ----------
    let idx = 0;
    const answers = {}; // questionId -> selected option index (or null)
    let lastScore = null;

    // ---------- Helpers ----------
    const $ = (id) => document.getElementById(id);
    const navButtons = document.querySelectorAll(".nav button");
    const pages = ["home","setup","quiz","results","weak"];

    function showPage(name){
      pages.forEach(p => $(p).classList.toggle("hidden", p !== name));
      navButtons.forEach(b => b.classList.toggle("active", b.dataset.page === name));
    }

    function resetQuiz(){
      idx = 0;
      for (const q of QUESTIONS) answers[q.id] = null;
      renderQuestion();
    }

    function renderQuestion(){
      const q = QUESTIONS[idx];
      $("qText").textContent = q.text;
      $("qHint").textContent = q.hint;
      $("qCounter").textContent = `Question ${idx+1} / ${QUESTIONS.length}`;
      $("qTopic").textContent = q.topic;
      $("bar").style.width = `${((idx) / QUESTIONS.length) * 100}%`;

      // buttons
      $("btnPrev").disabled = idx === 0;
      $("btnNext").textContent = (idx === QUESTIONS.length-1) ? "Finish" : "Next";

      const selected = answers[q.id];

      // build options
      $("options").innerHTML = "";
      q.options.forEach((optText, i) => {
        const div = document.createElement("label");
        div.className = "opt" + (selected === i ? " selected" : "");
        div.innerHTML = `
          <input type="radio" name="opt" ${selected === i ? "checked" : ""} />
          <div>
            <div style="font-weight:900">${optText}</div>
            <div class="small">Option ${String.fromCharCode(65+i)}</div>
          </div>
        `;
        div.addEventListener("click", () => {
          answers[q.id] = i;
          renderQuestion();
        });
        $("options").appendChild(div);
      });

      $("btnNext").disabled = (answers[q.id] === null);
      $("topicPill").textContent = "Topic: Mixed";
    }

    function computeResults(){
      let correctCount = 0;
      const missedByTopic = {}; // topic -> misses
      const review = [];

      for (const q of QUESTIONS){
        const selected = answers[q.id];
        const isCorrect = (selected === q.correct);
        if (isCorrect) correctCount++;
        else missedByTopic[q.topic] = (missedByTopic[q.topic] || 0) + 1;

        review.push({ q, selected, isCorrect });
      }

      const total = QUESTIONS.length;
      const pct = Math.round((correctCount / total) * 100);
      lastScore = { correctCount, total, pct, missedByTopic, review };

      return lastScore;
    }

    function renderResults(){
      const res = computeResults();
      $("scorePct").textContent = res.pct + "%";
      $("scoreRaw").textContent = `${res.correctCount} / ${res.total}`;
      $("missedCount").textContent = (res.total - res.correctCount);

      $("homeAvg").textContent = res.pct + "%";

      // review list
      const list = $("reviewList");
      list.innerHTML = "";
      res.review.forEach((r, i) => {
        const pillClass = r.isCorrect ? "pill good" : "pill bad";
        const pillText = r.isCorrect ? "Correct" : "Wrong";
        const chosen = (r.selected === null) ? "Skipped" : r.q.options[r.selected];
        const correct = r.q.options[r.q.correct];

        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <div style="max-width:72%">
            <div style="font-weight:900">${i+1}. ${r.q.text}</div>
            <div class="small">Topic: ${r.q.topic}</div>
            <div class="divider" style="margin:10px 0"></div>
            <div class="small"><strong>Your answer:</strong> ${chosen}</div>
            <div class="small"><strong>Correct:</strong> ${correct}</div>
            ${r.isCorrect ? "" : `<div class="small" style="margin-top:6px;"><strong>Why:</strong> ${r.q.explanation}</div>`}
          </div>
          <div><span class="${pillClass}">${pillText}</span></div>
        `;
        list.appendChild(div);
      });
    }

    function renderWeakTopics(){
      const res = lastScore || computeResults();
      const weakList = $("weakList");
      weakList.innerHTML = "";

      const entries = Object.entries(res.missedByTopic);
      if (entries.length === 0){
        weakList.innerHTML = `
          <div class="item">
            <div>
              <div style="font-weight:900">No weak topics üéâ</div>
              <div class="small">You got everything correct. Try a harder difficulty next.</div>
            </div>
            <span class="pill good">Great</span>
          </div>
        `;
      } else {
        entries.sort((a,b) => b[1] - a[1]);
        entries.forEach(([topic, misses]) => {
          const div = document.createElement("div");
          div.className = "item";
          div.innerHTML = `
            <div>
              <div style="font-weight:900">${topic}</div>
              <div class="small">Missed ${misses} question(s) in this topic.</div>
            </div>
            <span class="pill warn">Focus</span>
          `;
          weakList.appendChild(div);
        });
      }

      // recommendations (dummy)
      const rec = $("recommendations");
      rec.innerHTML = "";
      const recItems = [
        { title: "Review 1-page summary", desc: "Skim definitions + key rules for your weak topics." },
        { title: "Do 5 quick practice Qs", desc: "Same topic, short questions, immediate feedback." },
        { title: "Retry quiz", desc: "Retake to see if your weak topics improve." }
      ];
      recItems.forEach(x => {
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <div>
            <div style="font-weight:900">${x.title}</div>
            <div class="small">${x.desc}</div>
          </div>
          <span class="pill">Next</span>
        `;
        rec.appendChild(div);
      });
    }

    // ---------- Navigation wiring ----------
    navButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const p = btn.dataset.page;
        // basic guards
        if (p === "quiz" && Object.values(answers).every(v => v === null)) resetQuiz();
        if (p === "results") renderResults();
        if (p === "weak") renderWeakTopics();
        showPage(p);
      });
    });

    $("btnGoSetup").addEventListener("click", () => showPage("setup"));
    $("btnGoQuiz").addEventListener("click", () => { resetQuiz(); showPage("quiz"); });

    $("btnStart").addEventListener("click", () => { resetQuiz(); showPage("quiz"); });
    $("goWeakTopics").addEventListener("click", () => { renderWeakTopics(); showPage("weak"); });
    $("goWeak").addEventListener("click", () => { renderWeakTopics(); showPage("weak"); });

    $("retryQuiz").addEventListener("click", () => { resetQuiz(); showPage("quiz"); });
    $("practiceAgain").addEventListener("click", () => { resetQuiz(); showPage("quiz"); });
    $("backToResults").addEventListener("click", () => { renderResults(); showPage("results"); });

    // quiz buttons
    $("btnPrev").addEventListener("click", () => {
      if (idx > 0) idx--;
      renderQuestion();
    });

    $("btnSkip").addEventListener("click", () => {
      const q = QUESTIONS[idx];
      answers[q.id] = null;
      if (idx < QUESTIONS.length - 1){
        idx++;
        renderQuestion();
      } else {
        renderResults();
        showPage("results");
      }
    });

    $("btnNext").addEventListener("click", () => {
      if (idx < QUESTIONS.length - 1){
        idx++;
        renderQuestion();
      } else {
        $("bar").style.width = `100%`;
        renderResults();
        showPage("results");
      }
    });

    // initial load
    resetQuiz();
    showPage("home");
  </script>
</body>
</html>